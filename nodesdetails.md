# 3. ノード詳細ガイド

このページは、ロボットアームの自動化プロトコルで使用する各種ノードの使い方について説明するためのページです。


## 目次
- [ノードの概要](#2-ノードの概要)
- [ノードの詳細](#3-ノードの詳細)
  - [移動系](#31-移動系)
  - [データ処理](#32-データ処理)
  - [その他](#33-その他)
- [自分だけのプロトコルをつくる](#4-自分だけのプロトコルをつくる)


## 1. はじめに

自動化のプロトコルを自分用にカスタマイズするには、各種ノードの役割や設定が非常に重要です。このガイドでは、基本的なノードの種類や、それらの構成方法、実際の活用例について解説します。

## 2. ノードの概要

主なノードの種類を以下に紹介します：

- **移動系**  
  ロボットアームを移動させるためのノードです。

- **データ処理**  
  ロボットアームがウェルプレートやチップケース、シャーレのコロニーの座標を認識などの座標を確認するために使用するノードです。位置座標を行列としてに変換します。

- **その他**  
現在は「ループ」と「チップ排出」のみが実装されています。

- **メンテナンス**  
ご自身でチップを変えた時などにお使いいただきます。

## 3. ノードの詳細
### 3.1 移動系

- 指定座標移動<br>
ロボットアームを指定した座標（X,Y,Z軸など）に移動させます。

移動する座標の設定の方法は、まず「現在位置を反映」を押します。
その後、一番上の半円の中の小さな円を移動させて「移動」のボタンをおすと、その場所にざっくりと移動します。<br>
詳しい移動に関しては、右下でスピードを調整しつつ、左下のボタンで調整してください。（ボタンは連打ではなく、長押しで使用してください！）
正しい位置の座標を取得できましたら、「現在位置を反映」を押してから右下の「設定を保存」を押してください。
![](images\discrip-ver1.0-coordinatemoving.png)



### 3.2 データ処理

- データフレーム作成<br>
ウェルプレートやチップケースのような行列で存在するものを座標として認識するためのノードです。四つの設定ができますので一枚一枚見てみましょう。

*基本設定について*
オブジェクトタイプはこのデータフレームが設定する対象の名前の設定です。たとえばマイクロプレートのデータ設定ならその通り打ち込んでください。<br>
次にプレートの向きとざっくりとした位置を教えてください。行列の数なども設定できます。
これを四回繰り返したら、右下の設定を保存を押してください。
![](images\discrip-ver1.0-dataframe-basic.png)

*位置設定*
四点の座標についてティーチングするための設定を行います。やらなければいけないことは主に二つです。”四点の正しいx y 軸を入力する”と"正しい共通のz軸の高さを決める"です<br>
例えば角1を設定するとしましょう。まずは共通z座標を安全な高さに設定して（100など）、角1の枠の中にある「移動」を押してみましょう。先ほど基本設定できめた位置でのざっくりとした座標で移動します。<br>
ここからは、指定座標移動のように右下でスピードを調整しつつ、左下のボタンで調整してください。（ボタンは連打ではなく、長押しで使用してください！）正しい位置の座標を取得できましたら、角1の枠の中にある「「現在位置を反映」を押してから右下の「設定を保存」を押してください。<br>
これを四つ角分繰り返したら、右下の設定を保存を押してください。
![](images\discrip-ver1.0-dataframe-coordinate.png)

*処理順序*
ここでは”どこから始めるか”　と　”縦横どちらで処理を行うか”　を決めて行きます。<br>
開始角はどの角から始めるのかをきめることができます。プレビューを見ながら適切なものを設定してください。<br>
次は「行優先」と「列優先」を選ぶことで、縦横のどっちの向きで行うか決めることができます。プレビューを見ながら適切なものを設定してください。<br>
![](images\discrip-ver1.0-dataframe-order.png)
*その他*
ここでは”角の確認を行うかどうか”　を決めて行きます。<br>
弊社側の提供したファイルでのノードの実行をする際はデフォルトでクリックされています。<br>
![](images\discrip-ver1.0-dataframe-others.png)

- コロニー認識<br>
指定の場所にシャーレを置いてあることを条件に、シャーレの中にあるコロニーの数を数えます。
キャリブレーションについては[ハードウェアの設定](hardware.md)で確認してください。 

### 3.3　その他
- ループ<br>
右側につながっている連なるノードを繰り返します。右側の点から次のノードにつなぐことができます。繰り返し動作の回数は実行の際に指定します。また繰り返しが終わった際には、下の点（ループ外へ）からつながっているノードを実行します。

- チップ排出<br>
ロボットアームの先端からチップを排出するノードです。指定座標移動でチップゴミ箱などに移動と組み合わせることで指定の位置にチップを捨てることができます。


具体的なプロトコルについてはページにしてまとめておりますので、組み合わせ等についてはそちらを御覧ください。<br>
<br>

もしかして<br>

[コロニーピッキングの自動化についての説明](protocol/colonypicking.md)

<!-- 執筆メモ。もしプロトコルが増えたら、そのプロトコルを増えたようにしているので protocol.mdを目次としてご使用ください。 -->

## 4. 自分だけのプロトコルをつくる

０からでもぜひつくってみてください！<br>
ただすでに公開されているプロトコルを実施するための組み合わせはjsonファイルでお配りしております。そちらを変化させることでも新しい自分の自動化を作り上げてみてください！

### pick up!
[コロニーピッキングの自動化についての説明](protocol/colonypicking.md)

## サポート情報
製品のご意見やフィードバックは[こちら](https://forms.gle/KhQCS1gYCF6BUkbf7)にご投稿ください。<br>
問題が発生した場合は、info( at mark) queeen-b.com までご連絡ください。

